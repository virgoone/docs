(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[821],{86653:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return g},frontMatter:function(){return m}});var a=n(4389),r=n(47549),o=n(29901),i=n(57522),s=n(69455),l=n(31247),u=n(61110),p=n(41425),d=n(16066),c=n(61250),h=function(){var e=(0,o.useState)("Hello world"),t=e[0],n=e[1],a=(0,u.VP)(t),r=a.onCopy,i=a.hasCopied;return(0,c.jsxs)("div",{children:[(0,c.jsx)(p.ZP,{value:t,placeholder:"Welcome",onChange:function(e){return n(e.target.value)}}),(0,c.jsx)(d.Z,{onClick:r,children:i?"Copied":"Copy"})]})},f=["components"],m={title:"Hooks useClipboard",description:"Hooks\uff0c\u5305\u542b\u4e00\u4e9b\u7b80\u5355\u7684\u5e38\u7528hooks\uff0cuseClipboard\uff0c\u4f7f\u7528\u590d\u5236",slug:"/hooks/use-clipboard",tags:void 0,__resourcePath:"hooks/use-clipboard.mdx",__scans:{},layout:"index"},v={frontMatter:m},k=s.Z;function g(e){var t=e.components,n=(0,r.Z)(e,f);return(0,i.kt)(k,(0,a.Z)({},v,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"hooks-useclipboard"},"Hooks useClipboard"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"useClipboard")," is a custom hook to handle copying content to clipboard."),(0,i.kt)("h2",{id:"return-value"},"Return value"),(0,i.kt)("p",null,"The ",(0,i.kt)("inlineCode",{parentName:"p"},"useClipboard")," hook returns an object with the following fields:"),(0,i.kt)("h2",{id:"import"},"Import"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},"import { useClipboard } from '@moss/hooks'\n")),(0,i.kt)("h2",{id:"usage"},"Usage"),(0,i.kt)("h2",{id:"\u793a\u4f8b"},"\u793a\u4f8b"),(0,i.kt)(l.Z,{title:"Basic usage",desc:"\u57fa\u672c\u4f7f\u7528",expand:!0,path:"hooks/use-clipboard.jsx",mdxType:"Example"},(0,i.kt)(h,{mdxType:"BasicExample"})),(0,i.kt)("h2",{id:"api"},"API"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Name"),(0,i.kt)("th",{parentName:"tr",align:null},"Type"),(0,i.kt)("th",{parentName:"tr",align:null},"Default"),(0,i.kt)("th",{parentName:"tr",align:null},"Description"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"value")),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"string")),(0,i.kt)("td",{parentName:"tr",align:null}),(0,i.kt)("td",{parentName:"tr",align:null},"The copied value.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"onCopy")),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"function")),(0,i.kt)("td",{parentName:"tr",align:null}),(0,i.kt)("td",{parentName:"tr",align:null},"Callback function to copy content.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"hasCopied")),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"boolean")),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"false")),(0,i.kt)("td",{parentName:"tr",align:null},"If ",(0,i.kt)("inlineCode",{parentName:"td"},"true"),", the content has been copied .")))))}g.isMDXComponent=!0},82692:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/hooks/use-clipboard",function(){return n(86653)}])},92086:function(e,t,n){"use strict";var a=n(65947);t.Z=void 0;var r=a(n(7804)),o=a(n(31855)),i=a(n(68150)),s=function(){function e(){(0,r.default)(this,e),(0,i.default)(this,"map",new Map),(0,i.default)(this,"_refFns",new Map)}return(0,o.default)(e,[{key:"ref",value:function(e){var t=this,n=this._refFns.get(e);if(n)return n;return function n(a){null==a?(t._refFns.delete(e),t.map.delete(e)):(t._refFns.set(e,n),t.map.set(e,a))}}}]),e}();t.Z=s},41425:function(e,t,n){"use strict";n.d(t,{ZP:function(){return C}});var a=n(4389),r=n(31688),o=n(29901),i=n(87608),s=n.n(i),l=n(73352),u=n.n(l),p=function(e){return o.createElement("svg",(0,a.Z)({viewBox:"0 0 20 20",width:"1em",height:"1em"},e),o.createElement("path",{d:"M.2 10a11 11 0 0119.6 0A11 11 0 01.2 10zm9.8 4a4 4 0 100-8 4 4 0 000 8zm0-2a2 2 0 110-4 2 2 0 010 4z"}))},d=function(e){return o.createElement("svg",(0,a.Z)({viewBox:"0 0 20 20",width:"1em",height:"1em"},e),o.createElement("path",{d:"M12.81 4.36l-1.77 1.78a4 4 0 00-4.9 4.9l-2.76 2.75C2.06 12.79.96 11.49.2 10a11 11 0 0112.6-5.64zm3.8 1.85c1.33 1 2.43 2.3 3.2 3.79a11 11 0 01-12.62 5.64l1.77-1.78a4 4 0 004.9-4.9l2.76-2.75zm-.25-3.99l1.42 1.42L3.64 17.78l-1.42-1.42L16.36 2.22z"}))},c=function(e){return o.createElement("svg",(0,a.Z)({viewBox:"0 0 24 24",width:"1em",height:"1em"},e),o.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 20a8 8 0 100-16 8 8 0 000 16zM10.03 8.97a.75.75 0 00-1.06 1.06L10.94 12l-1.97 1.97a.75.75 0 101.06 1.06L12 13.06l1.97 1.97a.75.75 0 101.06-1.06L13.06 12l1.97-1.97a.75.75 0 10-1.06-1.06L12 10.94l-1.97-1.97z"}))},h=n(16066);function f(e){return"undefined"===typeof e||null===e?"":e}var m=function(e){function t(t){var n;(n=e.call(this,t)||this).prefixCls="lark-ui-input",n.input=void 0,n.saveInput=function(e){n.input=e},n.focus=function(){n.input&&n.input.focus()},n.blur=function(){n.input&&n.input.blur()},n.handleReset=function(e){n.setValue("",e,(function(){n.focus()}))},n.handleKeyDown=function(e){var t=n.props,a=t.onPressEnter,r=t.onKeyDown;13===e.keyCode&&a&&a(e),r&&r(e)},n.handleChange=function(e){n.setValue(e.target.value,e)},n.onBlur=function(e){n.setState({isFocused:!1}),n.props.onBlur&&n.props.onBlur(e)},n.onFocus=function(e){n.setState({isFocused:!0}),n.props.onFocus&&n.props.onFocus(e)};var a="undefined"===typeof t.value?t.defaultValue:t.value;return n.state={value:a,isFocused:!1,isMasked:"password"===t.type},n}(0,r.Z)(t,e),t.getDerivedStateFromProps=function(e){return"value"in e?{value:e.value}:null};var n=t.prototype;return n.componentDidMount=function(){this.props.autoFocus&&this.focus()},n.setValue=function(e,t,n){"value"in this.props||this.setState({value:e},n);var a=this.props.onChange;if(a){var r=t;if("click"===t.type){(r=Object.create(t)).target=this.input,r.currentTarget=this.input;var o=this.input.value;return this.input.value="",a(r),void(this.input.value=o)}a(r)}},n.getInputType=function(){return"password"===this.props.type?this.state.isMasked?"password":"text":this.props.type},n.renderMaskToggle=function(){var e=this;if("password"!==this.props.type||!this.props.visibilityToggle)return null;var t=this.props.size,n=void 0===t?"md":t,a=this.state.isMasked?"Show password text":"Hide password text",r={xs:12,sm:14,md:14,lg:16}[n];return o.createElement(h.Z,{"aria-label":a,onClick:function(){return e.setState({isMasked:!e.state.isMasked})},type:"minimal",size:this.props.size,htmlType:"button"},this.state.isMasked?o.createElement(p,{width:r,height:r,"aria-label":a}):o.createElement(d,{width:r,height:r,"aria-label":a}))},n.renderClear=function(){var e,t=this.prefixCls,n=this.props,a=n.allowClear,r=n.disabled,i=n.type,l=this.state.value;if(!a||r||!l)return null;var u=s()(t+"-clear-icon",((e={})["align-top"]="textarea"===i,e));return o.createElement("div",{className:u,onClick:this.handleReset},o.createElement(c,{width:16,height:16,"aria-label":"Clear value",role:"button"}))},n.render=function(){var e,t=this.prefixCls,n=this.props,r=n.size,i=void 0===r?"md":r,l=n.type,p=n.className,d=n.disabled,c=n.before,h=n.after,m=n.positive,v=n.error,k=n.startEnhancer,g=n.endEnhancer,b=n.allowClear,y=u()(this.props,["before","after","onPressEnter","startEnhancer","endEnhancer","allowClear","error","positive","visibilityToggle","defaultValue","size"]),C=this.state,N=C.isFocused,w=C.value,x=s()(t+"-wrapper",p,((e={})[t+"-"+l]=l,e[t+"-"+i]=!!i,e[t+"-focused"]=N,e[t+"-disabled"]=d,e[t+"-error"]=v,e[t+"-positive"]=m,e));return o.createElement("div",{className:x},k&&o.createElement("div",{className:t+"-enhancer"},k),c,o.createElement("input",(0,a.Z)({"aria-invalid":v,className:t},y,{type:this.getInputType(),value:f(w),onBlur:this.onBlur,onFocus:this.onFocus,onKeyDown:this.handleKeyDown,onChange:this.handleChange,ref:this.saveInput})),b&&this.renderClear(),this.renderMaskToggle(),h,g&&o.createElement("div",{className:t+"-enhancer"},g))},t}(o.Component);m.Password=void 0,m.PinCode=void 0,m.defaultProps={type:"text",autoComplete:"off",autoFocus:!1,disabled:!1,name:"",error:!1,onBlur:function(){},onFocus:function(){},required:!1,visibilityToggle:!0,size:"md"};var v=m,k=function(e){return o.createElement(v,(0,a.Z)({},e,{type:"password"}))},g=n(92086),b=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))||this).state={values:t.props.values,hasFocus:!1},t.prefixCls="lark-ui-input",t._inputRefs=new g.Z,t}return(0,r.Z)(t,e),t.prototype.render=function(){var e=this;return o.createElement("div",{className:this.prefixCls+"-pin-code"},this.props.values.map((function(t,n){return o.createElement(v,{"aria-label":e.props["aria-label"],"aria-labelledby":e.props["aria-labelledby"],"aria-describedby":e.props["aria-describedby"],autoComplete:"one-time-code",disabled:e.props.disabled,error:e.props.error,id:e.props.id?e.props.id+"-"+n:"",inputMode:"numeric",ref:e._inputRefs.ref(n),key:n,maxLength:1,name:e.props.name,onBlur:function(){return e.setState({hasFocus:!1})},onFocus:function(){return e.setState({hasFocus:!0})},onChange:function(t){var a=t.target.value;if(a.length>2)a.length===e.props.values.length&&a.match(/^[0-9]+$/)&&e.props.onChange({values:a.split(""),event:t});else{if(""===a){var r=e.props.values.slice();return r[n]="",void e.props.onChange({values:r,event:t})}var o=e.props.values[n],i=a;if(o[0]===a[0]?i=a[1]:o[0]===a[1]&&(i=a[0]),i.match(/^[0-9]$/)){var s=e.props.values.slice();if(s[n]=i,e.props.onChange({values:s,event:t}),e.props.manageFocus&&n<e.props.values.length-1){var l=e._inputRefs.map.get(n+1);l&&l.focus&&l.focus()}}}},onKeyDown:function(t){if(e.props.manageFocus&&"Backspace"===t.key&&""===e.props.values[n]&&n>0){var a=e._inputRefs.map.get(n-1);a&&a.focus&&a.focus()}},pattern:"\\d*",placeholder:e.state.hasFocus?"":e.props.placeholder,positive:e.props.positive,required:e.props.required,size:e.props.size,type:"text",value:e.props.values[n]||t})})))},t}(o.Component);b.defaultProps={"aria-label":"Please enter your pin code","aria-labelledby":null,"aria-describedby":null,autoFocus:!1,disabled:!1,error:!1,id:null,name:null,onChange:function(){},placeholder:"\u25cb",positive:!1,required:!1,size:"md",manageFocus:!0,values:["","","",""]};var y=b;v.Password=k,v.PinCode=y;var C=v},7804:function(e){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports},31855:function(e){function t(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}e.exports=function(e,n,a){return n&&t(e.prototype,n),a&&t(e,a),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports},68150:function(e){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports},65947:function(e){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports}},function(e){e.O(0,[978,913,23,330,485,826,772,888,179],(function(){return t=82692,e(e.s=t);var t}));var t=e.O();_N_E=t}]);